<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Find the Treasure — CHETAN KUMAR</title>
  <style>
    body { font-family: system-ui, Arial, sans-serif; margin: 24px; }
    #field { display: grid; grid-template-columns: repeat(5, 64px); gap: 8px; margin-top: 12px; }
    #field img { width: 64px; height: 64px; cursor: pointer; user-select: none; }
    #hud { display: flex; gap: 18px; flex-wrap: wrap; align-items: center; }
    #helpBox { padding: .4rem .6rem; border: 1px dashed #888; display: inline-block; cursor: pointer; border-radius: 6px; }
  </style>
</head>
<body>
  <h1>Find the Treasure — chetan KUMAR</h1>

  <p id="instructions">Click the squares to find treasure</p>
  <div id="hud">
    <p id="clicks">No of clicks: 0</p>
    <p id="distance">Distance: unknown</p>
    <p id="score">Score: 0</p>
    <div id="helpBox" onclick="help()">Need help? (click here)</div>
  </div>
  
  <div id="field">
    <img id="cell0"  src="images/cactus.jpg" alt="" onclick="makeGuess(0)">
    <img id="cell1"  src="cactus.jpg" alt="" onclick="makeGuess(1)">
    <img id="cell2"  src="cactus.jpg" alt="" onclick="makeGuess(2)">
    <img id="cell3"  src="cactus.jpg" alt="" onclick="makeGuess(3)">
    <img id="cell4"  src="cactus.jpg" alt="" onclick="makeGuess(4)">

    <img id="cell5"  src="cactus.jpg" alt="" onclick="makeGuess(5)">
    <img id="cell6"  src="cactus.jpg" alt="" onclick="makeGuess(6)">
    <img id="cell7"  src="cactus.jpg" alt="" onclick="makeGuess(7)">
    <img id="cell8"  src="cactus.jpg" alt="" onclick="makeGuess(8)">
    <img id="cell9"  src="cactus.jpg" alt="" onclick="makeGuess(9)">

    <img id="cell10" src="cactus.jpg" alt="" onclick="makeGuess(10)">
    <img id="cell11" src="cactus.jpg" alt="" onclick="makeGuess(11)">
    <img id="cell12" src="cactus.jpg" alt="" onclick="makeGuess(12)">
    <img id="cell13" src="cactus.jpg" alt="" onclick="makeGuess(13)">
    <img id="cell14" src="cactus.jpg" alt="" onclick="makeGuess(14)">

    <img id="cell15" src="cactus.jpg" alt="" onclick="makeGuess(15)">
    <img id="cell16" src="cactus.jpg" alt="" onclick="makeGuess(16)">
    <img id="cell17" src="cactus.jpg" alt="" onclick="makeGuess(17)">
    <img id="cell18" src="cactus.jpg" alt="" onclick="makeGuess(18)">
    <img id="cell19" src="cactus.jpg" alt="" onclick="makeGuess(19)">

    <img id="cell20" src="cactus.jpg" alt="" onclick="makeGuess(20)">
    <img id="cell21" src="cactus.jpg" alt="" onclick="makeGuess(21)">
    <img id="cell22" src="cactus.jpg" alt="" onclick="makeGuess(22)">
    <img id="cell23" src="cactus.jpg" alt="" onclick="makeGuess(23)">
    <img id="cell24" src="cactus.jpg" alt="" onclick="makeGuess(24)">
  </div>

  <script>
  const startImg = "cactus.jpg";
    const goldImg  = "gold.jpg";
    const catImg = "cat.jpg";
    const cat2Img= "images/cat.jpg";

    const ids = Array.from({length: 25}, (_, i) => `cell${i}`);
    let clickCount = 0;
    let score = 0;
   
    function randCell() { return Math.floor(Math.random() * 25); }
    function randCellNotEqual(n) { let r; do { r = randCell(); } while (r === n); return r; }

    let treasureLocation = randCell();
    let snakePos = randCellNotEqual(treasureLocation);

    function updateHud(distText) {
      document.getElementById("clicks").innerText = `Number of clicks: ${clickCount}`;
    }

    function nonTreasureFlip(imgEl) {
      imgEl.src = (Math.random() < 0.5) ? snakeImg : rabbitImg;
    }

    function gameOver(msg) {
      document.getElementById("distance").innerText = msg;
      document.getElementById("instructions").innerText = "Click New Game to restart";
    }

    function moveSnake() {
      const r = Math.floor(snakePos / 5), c = snakePos % 5;
      const dirs = [[-1,0],[1,0],[0,1],[0,-1]];
      const [dr, dc] = dirs[Math.floor(Math.random()*4)];
      const nr = Math.min(4, Math.max(0, r + dr));
      const nc = Math.min(4, Math.max(0, c + dc));
      snakePos = nr*5 + nc;
    }

    function makeGuess(position) {
      const imgId = ids[position];
      const imgEl = document.getElementById(imgId);

      if (imgEl.dataset.revealed === "1") return;

      clickCount++;

      if (position === snakePos) {
        gameOver("Game over: Snake got you!");
        return;
      }

      if (position === treasureLocation) {
        imgEl.src = goldImg;
        score += 10;
      } else {
        nonTreasureFlip(imgEl);
        score -= 1;
      }
      imgEl.dataset.revealed = "1";

      const d = distance(position, treasureLocation);
      updateHud(d);

      moveSnake();


      if (position === snakePos) {
        gameOver("Game over: Snake got you!");
        return;
      }
    }

    function check() {}

    function help() {
      const r = Math.floor(treasureLocation / 5), c = treasureLocation % 5;
      const hint = `Row ${r}, Col ${c}`;
      document.getElementById("distance").innerText = `Distance: unknown | Hint: ${hint}`;
    }

    function newGame() {
      clickCount = 0;
      score = 0;
      treasureLocation = randCell();
      snakePos = randCellNotEqual(treasureLocation);
      ids.forEach(id => {
        const el = document.getElementById(id);
        el.src = startImg;
        el.dataset.revealed = "0";
      });
      document.getElementById("instructions").innerText = "Click on the squares to find the treasure";
      updateHud("unknown");
    }

    ids.forEach(id => {
      const el = document.getElementById(id);
      el.onerror = () => { el.src = startImg; };
    });
    updateHud("unknown");
  </script>
</body>